<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./tab.css" rel="stylesheet" />
    <link href="./slid.css" rel="stylesheet" />
    <link href="./calendar.css" rel="stylesheet" />
    <link href="./input.css" rel="stylesheet" />

   
    <link href='css/bootstrap.css' rel='stylesheet' />

    <link href='css/rotating-card.css' rel='stylesheet' />
    <link href="https://netdna.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />

    
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <title>Document</title>
</head>
<body>
    <div class="wrap">
        <span id="logo">HELLTH</span>
    </div>
m
    <div id="fullpage">
		<div class='quick'><ul></ul></div>
		<div class="fullsection full1" pageNum="1">
            <div class="tabs">
                <div class="tab-header">
                  <div class="active">개인정보</div>
                  <div>몸무게</div>
                  <div>지방량</div>
                  <div>근육량</div>
                </div>
                <div class="tab-indicator"></div>
                <div class="tab-body">
                  <div class="active">
                    <h1>개인정보</h1>
                    본인의 기본 신체 정보를 한눈에 볼 수 있고 수정 가능한 페이지 임
                    본인 경험치 정보와 레밸 정보를 볼 수있다. 
                  </div>
        
                  <div>
                    <h1>몸무게</h1>
                    <div id="graph">
                        그래프
                    </div>
                    <div id="input_w">
                        <div id="calendarForm"></div> 
                        <div id="what"> 
                            <!-- <p id="ment">당신의 변한 지방량을 입력하시오</p> -->
                            <div id="field_input">
                                <form id="form">
                                    <input type="text" placeholder="Name" class="gredient_input" /><br><br>
                                    <input type="submit" value="등록하기" class="blue_button" />
                                </form>
                            </div>
                        </div>
                    </div>                  
                  </div>
        
                  <div>
                    <h1>지방량</h1>
                    <div id="graph">
                        그래프
                    </div>
                    <div id="input_w">
                        <div id="calendarForm1"></div>
                        <div id="what"> 
                            <!-- <p id="ment">당신의 변한 지방량을 입력하시오</p> -->
                            <div id="field_input">
                                <form id="form">
                                    <input type="text" placeholder="Name" class="gredient_input" /><br><br>
                                    <input type="submit" value="등록하기" class="blue_button" />
                                </form>
                            </div>
                        </div>
                    </div> 
                  </div>
        
                  <div>
                    <h1>근육량</h1>
                    <div id="graph">
                        그래프
                    </div>
                    <div id="input_w">
                        <div id="calendarForm2"></div>
                        <div id="what"> 
                            <!-- <p id="ment">당신의 변한 근육량을 입력하시오</p> -->
                            <div id="field_input">
                                <form id="form">
                                    <input type="text" placeholder="Name" class="gredient_input" /><br><br>
                                    <input type="submit" value="등록하기" class="blue_button" />
                                </form>
                            </div>
                        </div>
                    </div>
                     
                  </div>
                </div>
            </div>
        </div>
		<div class="fullsection full2" pageNum="2">
            <div class="container">
                <div class="row">
                    <div class="col-sm-10 col-sm-offset-1">
                        <div class="col-md-4 col-sm-6">
                            <div class="card-container manual-flip">
                                <div class="card">
                                    <div class="front">
                                        <div class="cover">
                                            
                                        </div>
                                        <div class="user">
                                            
                                        </div>
                                        <div class="content">
                                            <div class="main">
                                                <img src="./image/exer.png" class="hel_img"/>
                                            </div>
                                            <div class="footer">
                                                <button class="btn btn-simple" onclick="rotateCard(this)">
                                                    <i class="fa fa-mail-forward"></i> Manual Rotation
                                                </button>
                                            </div>
                                        </div>
                                    </div> <!-- end front panel -->
                                    <div class="back">
                                        <div class="header">
                                            <h5 class="motto">"To be or not to be, this is my awesome motto!"</h5>
                                        </div>
                                        <div class="content">
                                            <div class="main">
                                                 <!-- 여기다 달력 한거 작성 -->
            
                                            </div>
                                        </div>
                                        <div class="footer">
                                            <button class="btn btn-simple" rel="tooltip" title="Flip Card"
                                                onclick="rotateCard(this)">
                                                <i class="fa fa-reply"></i> Back
                                            </button>
                                        </div>
                                    </div> <!-- end back panel -->
                                </div> <!-- end card -->
                            </div> <!-- end card-container -->
                        </div> <!-- end col sm 3 -->
                        <!--         <div class="col-sm-1"></div> -->
                        <div class="col-md-4 col-sm-6">
                            <div class="card-container manual-flip">
                                <div class="card">
                                    <div class="front">
                                        
                                        <div class="content">
                                            <div class="main">
                                                <img src="./image/food1.png" class="hel_img"/>
                                            </div>
                                            <div class="footer">
                                                <button class="btn btn-simple" onclick="rotateCard(this)">
                                                    <i class="fa fa-mail-forward"></i> Manual Rotation
                                                </button>
                                            </div>
                                        </div>
                                    </div> <!-- end front panel -->
                                    <div class="back">
                                        <div class="header">
                                            <h5 class="motto">"To be or not to be, this is my awesome motto!"</h5>
                                        </div>
                                        <div class="content">
                                            <div class="main">
                                                <!-- 여기다 달력 한거 작성 -->
            
                                            </div>
                                        </div>
                                        <div class="footer">
                                            <button class="btn btn-simple" rel="tooltip" title="Flip Card"
                                                onclick="rotateCard(this)">
                                                <i class="fa fa-reply"></i> Back
                                            </button>
            
                                        </div>
                                    </div> <!-- end back panel -->
                                </div> <!-- end card -->
                            </div> <!-- end card-container -->
                        </div> <!-- end col sm 3 -->
                        <!--         <div class="col-sm-1"></div> -->
                    </div>
                </div> <!-- end row --> 
            </div>
        </div>
	</div>

    
    <script>
            let tabs = document.querySelector(".tabs");
            let tabHeader = tabs.querySelector(".tab-header");
            let tabBody = tabs.querySelector(".tab-body");
            let tabIndicator = tabs.querySelector(".tab-indicator");
            let tabHeaderNodes = tabs.querySelectorAll(".tab-header > div");
            let tabBodyNodes = tabs.querySelectorAll(".tab-body > div");

            for(let i=0;i<tabHeaderNodes.length;i++){
                tabHeaderNodes[i].addEventListener("click",function(){
                    tabHeader.querySelector(".active").classList.remove("active");
                    tabHeaderNodes[i].classList.add("active");
                    tabBody.querySelector(".active").classList.remove("active");
                    tabBodyNodes[i].classList.add("active");
                    tabIndicator.style.left = `calc(calc(calc(25% - 5px) * ${i}) + 10px)`;
                });
            }
    </script>

<script> // 달력
    (function () {
        calendarMaker($("#calendarForm"), new Date());
        calendarMaker($("#calendarForm1"), new Date());
        calendarMaker($("#calendarForm2"), new Date());
    })();

    var nowDate = new Date();
function calendarMaker(target, date) {
    if (date == null || date == undefined) {
        date = new Date();
    }
    nowDate = date;
    if ($(target).length > 0) {
        var year = nowDate.getFullYear();
        var month = nowDate.getMonth() + 1;
        $(target).empty().append(assembly(year, month));
    } else {
        console.error("custom_calendar Target is empty!!!");
        return;
    }

    var thisMonth = new Date(nowDate.getFullYear(), nowDate.getMonth(), 1);
    var thisLastDay = new Date(nowDate.getFullYear(), nowDate.getMonth() + 1, 0);


    var tag = "<tr>";
    var cnt = 0;
    //빈 공백 만들어주기
    for (i = 0; i < thisMonth.getDay(); i++) {
        tag += "<td></td>";
        cnt++;
    }

    //날짜 채우기
    for (i = 1; i <= thisLastDay.getDate(); i++) {
        if (cnt % 7 == 0) { tag += "<tr>"; }

        tag += "<td>" + i + "</td>";
        cnt++;
        if (cnt % 7 == 0) {
            tag += "</tr>";
        }
    }
    $(target).find("#custom_set_date").append(tag);
    calMoveEvtFn();

    function assembly(year, month) {
        var calendar_html_code =
            "<table class='custom_calendar_table'>" +
            "<colgroup>" +
            "<col style='width:81px'/>" +
            "<col style='width:81px'/>" +
            "<col style='width:81px'/>" +
            "<col style='width:81px'/>" +
            "<col style='width:81px'/>" +
            "<col style='width:81px'/>" +
            "<col style='width:81px'/>" +
            "</colgroup>" +
            "<thead class='cal_date'>" +
            "<th><button type='button' class='prev'><</button></th>" +
            "<th colspan='5'><p><span>" + year + "</span>년 <span>" + month + "</span>월</p></th>" +
            "<th><button type='button' class='next'>></button></th>" +
            "</thead>" +
            "<thead  class='cal_week'>" +
            "<th>일</th><th>월</th><th>화</th><th>수</th><th>목</th><th>금</th><th>토</th>" +
            "</thead>" +
            "<tbody id='custom_set_date'>" +
            "</tbody>" +
            "</table>";
        return calendar_html_code;
    }

    function calMoveEvtFn() {
        //전달 클릭
        $(".custom_calendar_table").on("click", ".prev", function () {
            nowDate = new Date(nowDate.getFullYear(), nowDate.getMonth() - 1, nowDate.getDate());
            calendarMaker($(target), nowDate);
        });
        //다음날 클릭
        $(".custom_calendar_table").on("click", ".next", function () {
            nowDate = new Date(nowDate.getFullYear(), nowDate.getMonth() + 1, nowDate.getDate());
            calendarMaker($(target), nowDate);
        });
        //일자 선택 클릭
        $(".custom_calendar_table").on("click", "td", function () {
            $(".custom_calendar_table .select_day").removeClass("select_day");
            $(this).removeClass("select_day").addClass("select_day");
        });
    }
}
</script>

<script>
    $(document).ready(function(){
        fullset();
        quickClick();
    });
    function fullset(){
        var pageindex = $("#fullpage > .fullsection").size(); //fullpage 안에 섹션이(.fullsection) 몇개인지 확인하기
        for(var i=1;i<=pageindex;i++){
            $("#fullpage > .quick > ul").append("<li></li>");
        }
        $("#fullpage .quick ul :first-child").addClass("on"); //일단 화면이 로드 되었을때는 퀵버튼에 1번째에 불이 들어오게
        //마우스 휠 이벤트
        $(window).bind("mousewheel", function(event){
            var page = $(".quick ul li.on");
            //alert(page.index()+1);  // 현재 on 되어있는 페이지 번호
            if($("body").find("#fullpage:animated").length >= 1) return false;
            //마우스 휠을 위로
            if(event.originalEvent.wheelDelta >= 0) {
                var before=page.index();
                if(page.index() >= 0) page.prev().addClass("on").siblings(".on").removeClass("on");//퀵버튼옮기기
                var pagelength=0;
                for(var i=1; i<(before); i++)
                {
                    pagelength += $(".full"+i).height();
                }
                if(page.index() > 0){ //첫번째 페이지가 아닐때 (index는 0부터 시작임)
                    page=page.index()-1;
                    $("#fullpage").animate({"top": -pagelength + "px"},1000, "swing");
                }else{
                    alert("첫번째페이지 입니다.");
                }	
            }else{ // 마우스 휠을 아래로	
                var nextPage=parseInt(page.index()+1); //다음페이지번호
                var lastPageNum=parseInt($(".quick ul li").size()); //마지막 페이지번호
                //현재페이지번호 <= (마지막 페이지 번호 - 1)
                //이럴때 퀵버튼옮기기
                if(page.index() <= $(".quick ul li").size()-1){ 
                    page.next().addClass("on").siblings(".on").removeClass("on");
                }
                
                if(nextPage < lastPageNum){ //마지막 페이지가 아닐때만 animate !
                    var pagelength=0;
                    for(var i = 1; i<(nextPage+1); i++){ 
                        //총 페이지 길이 구하기
                        //ex) 현재 1번페이지에서 2번페이지로 내려갈때는 1번페이지 길이 + 2번페이지 길이가 더해짐
                        pagelength += $(".full"+i).height();
                    }
                    $("#fullpage").animate({"top": -pagelength + "px"},1000, "swing");
                }
                else{ // 현재 마지막 페이지 일때는
                    alert("마지막 페이지 입니다!");
                };		
                
            }
        });
        $(window).resize(function(){ 
            //페이지가 100%이기때문에 브라우저가 resize 될때마다 스크롤 위치가 그대로 남아있는것을 방지하기 위해
            var resizeindex = $(".quick ul li.on").index()+1;
            
            var pagelength=0;
            for(var i = 1; i<resizeindex; i++){ 
                //총 페이지 길이 구하기
                //ex) 현재 1번페이지에서 2번페이지로 내려갈때는 1번페이지 길이 + 2번페이지 길이가 더해짐
                pagelength += $(".full"+i).height();
            }
    
            $("#fullpage").animate({"top": -pagelength + "px"},0);
        });
    }
    // 사이드 퀵버튼 클릭 이동
    function quickClick(){
        $(".quick li").click(function(){
            var gnbindex = $(this).index()+1;
            var length=0;
            for(var i=1; i<(gnbindex); i++)
            {
                length+=$(".full"+i).height();
            }
            if($("body").find("#fullpage:animated").length >= 1) return false;
            $(this).addClass("on").siblings("li").removeClass("on");
            
            $("#fullpage").animate({"top": -length + "px"},800, "swing");
            return false;
        });
    }
    
    </script>
    <!-- 있어야 오류 안남 -->
    <script src="js/jquery-1.10.2.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script> 
    <script type="text/javascript">
        $().ready(function(){
            $('[rel="tooltip"]').tooltip();
    
            $('a.scroll-down').click(function(e){
                e.preventDefault();
                scroll_target = $(this).data('href');
                 $('html, body').animate({
                     scrollTop: $(scroll_target).offset().top - 60
                 }, 1000);
            });
    
        });
    
        function rotateCard(btn){
            var $card = $(btn).closest('.card-container');
            console.log($card);
            if($card.hasClass('hover')){
                $card.removeClass('hover');
            } else {
                $card.addClass('hover');
            }
        }
    
    
    </script>
</body>
</html>